openapi: 3.1.1
info:
  title: CuidaMed API
  version: 1.0.0
  description: API para la aplicaci√≥n CuidaMed

servers:
  - url: http://localhost:3000
    description: Servidor de desarrollo

paths:
  /health:
    get:
      summary: Health check
      operationId: healthCheck
      responses:
        "200":
          description: Servidor funcionando
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "ok"

  /login:
    $ref: "./openapi/auth.yaml#/paths/~1login"

  /register:
    $ref: "./openapi/auth.yaml#/paths/~1register"

  /me:
    $ref: "./openapi/auth.yaml#/paths/~1me"

  /treatments:
    $ref: "./openapi/treatments.yaml#/paths/~1treatments"

  /treatments/{treatmentId}:
    $ref: "./openapi/treatments.yaml#/paths/~1treatments~1{treatmentId}"

  /treatments/{treatmentId}/intakes:
    $ref: "./openapi/intakes.yaml#/paths/~1treatments~1{treatmentId}~1intakes"

  /treatments/{treatmentId}/intakes/{intakeId}:
    $ref: "./openapi/intakes.yaml#/paths/~1treatments~1{treatmentId}~1intakes~1{intakeId}"

  /medicines:
    $ref: "./openapi/medicines.yaml#/paths/~1medicines"

components:
  schemas:
    Treatment:
      $ref: "./openapi/treatments.yaml#/components/schemas/Treatment"

    NewTreatment:
      $ref: "./openapi/treatments.yaml#/components/schemas/NewTreatment"

    LoginCredentials:
      $ref: "./openapi/auth.yaml#/components/schemas/LoginCredentials"

    NewUser:
      $ref: "./openapi/auth.yaml#/components/schemas/NewUser"

    UserProfile:
      $ref: "./openapi/auth.yaml#/components/schemas/UserProfile"

    DosingSchedule:
      $ref: "./openapi/intakes.yaml#/components/schemas/DosingSchedule"

    NewDosingSchedule:
      $ref: "./openapi/intakes.yaml#/components/schemas/NewDosingSchedule"

    DosingTime:
      $ref: "./openapi/intakes.yaml#/components/schemas/DosingTime"

    NewDosingTime:
      $ref: "./openapi/intakes.yaml#/components/schemas/NewDosingTime"

    Medicine:
      $ref: "./openapi/medicines.yaml#/components/schemas/Medicine"
